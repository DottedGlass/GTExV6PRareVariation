# Input  files
TSS_list = list of TSS
oneKKG_vcf = vcf of 1000 genomes on african samples
gtex_vcf = vcf of gtex v8 (african individuals only)
multi_tissue_outliers = ${RAREVARDIR}/data/v8/outliers_medz_picked.txt

# subset both vcf for variants within 10kb of genes in TSS_list
subtract 10kb from start column of TSS_list. Call this TSS_list_10kb
use bedtools to get intersection of TSS_list_10kb with both vcf files. Output is vcf file

# compute allele frequencies
use vcftools to compute frequencies (SNVs only) on both vcfs

# find rare variants based on frequency <0.01 in both 1KG and GTEx
loop through each variant in GTEx
  if variant in GTEx is <0.01
    if variant exists in 1KG
      if variant frequency in both is <0.01
        write this variant to rare_variant_list
    else
        write this variant to rare_variant_list

# build the output file
loop through all genes with at least 1 outlier individual (multi_tissue_outliers)
  identify rows on gtex_vcf (variants within 10kb of the gene)
  loop on all african individuals
    if variants are in the rare_variant_list
      add variant to col3 of output file
      $chrom:$position:$major_allele:$variant_allele

# build output file (vectorized)
find all genes with at least 1 outlier individual
filter TSS_list_10kb for genes with at least 1 outlier individual
filter rare_variant_list for variants that are within a 10kb TSS window of outlier gene
for each rare variant, find individuals that have the rare variant




#output file format
#Col1: Gene
#Col2: Indiv
#Col3: Comma separated list of variants
